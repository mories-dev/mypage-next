---
title: 'JavaScriptについて'
date: '2022-01-23'
thumbnail: '/images/JavaScript.png'
---

## JavaScript とは

JavaScript とはブラウザ上で動作するプログラミング言語です。HTML や CSS によりページの土台やデザインが可能ですが、JavaScript を使用することで動的なページを作成することができます。また、今回詳しくは記載しませんが、node.js という JavaScript をサーバーサイドで実行する環境などもあります。

JavaScript の基本的な構文等は他に多数の記事が取り上げていますので、今回は ES2015(ES6)以降のモダンな JavaScript の記法について説明します。

## 変数宣言

従来の JavaScript では var を使用して変数宣言を行っていました。

```
var va1 = "var 変数";
```

しかし**再宣言可能**であることや**上書き可能**であることからバグの温床になる可能性があるため、現在は基本的に let や const を使用し、var を使用することはほとんどなくなりました。

再宣言可能・・全く同じ名前で変数を複数個所で定義しなおすことができること
上書き可能・・一度定義した変数に他の変数を代入することができること

### let による変数宣言

let は変数を再宣言することはできませんが、変数を上書きすることはできます。基本的には上書きする可能性がある変数を宣言する際にのみ使用します。

```
let num = 1;
num = 2;
let num = 3; できない
```

### const による変数宣言

const は変数を再宣言できず、さらに変数を上書きすることもできません。

```
const num = 1;
num = 2; できない
const num = 3; できない
```

## テンプレート文字列

テンプレ―ト文字列は文字列の中で変数を展開するための新しい記法です。まず従来の JavaScript ではどのように記載していたかを以下に記載します。

```
const name = "サンプル太郎"

const age = 18;

const messsage = "私の名前は" + name + "です。年齢は" + age + "歳です。";
```

この場合文字列結合するたびに＋を書く必要があり手間です。そこでテンプレート文字列を利用すると以下のように記載できます。

```
const name = "サンプル太郎"

const age = 18;

const messsage = `私の名前は${name}です。年齢は${age}歳です。`;
```

注意点としてはこの場合文字列全体をダブルクオーテーションではなく、バッククオートで囲む必要があります。また、文字列中で変数を展開する際は${変数}のような形式で記載します。

## アロー関数

アロー関数は ES2015 で追加された記法で従来よりもシンプルに関数を記載できます。

まずは従来の関数を以下で記載します。

```
例1
function add(a, b) {
  return a + b;
}

例2
const add = function (a, b) {
  return a + b;
}
```

上記の例 1 が従来の関数定義、例 2 が従来の関数定義を変数に格納した形になります。いずれも function というワードを使用していることがわかります。

アロー関数では function のワードを利用せずに以下のように記載します。

```
const add = (a, b) => {
  return a + b;
}
```

function というワードは利用せず()の中に引数を、{}の中に処理を記載します。

また、以下のように省略して書く方法もあります。

```
//引数が一つの場合
const func = value => {
  return value;
}

//処理を単一行で返す場合
const add = (a, b) => a + b;
```

## 分割代入

分割代入はオブジェクトや配列から値を抽出する方法です。

まずは分割代入を使用しない場合の処理を記載します。

```
const item = {
  name: apple,
  price: 300
};

const message = "今日の目玉商品は${item.name}です。値段は${item.price}です。";
```

このぐらいの簡単な処理であれば問題ないように思いますがオブジェクトのプロパティの数が多かったり、オブジェクトの変数名が長いと毎回 item.~と記載するのが非常に手間になります。

よって、分割代入を用いると以下のように記載することができます。

```
const item = {
  name: apple,
  price: 300
};

const { name, price } = item;

const message = "今日の目玉商品は${name}です。値段は${price}です。";
```

{}を変数宣言部に記載することで一致するプロパティをオブジェクトから取り出すことができます。
オブジェクトから取り出す場合にはプロパティ名と一致さえしていれば一部のみ取り出すことや順番も関係なく取り出すこともできます。配列から取り出す場合には任意の変数名を付けることができますが、順番にしか取り出せない点に注意が必要です。

## デフォルト値

関数の引数やオブジェクトに分割代入においてデフォルト値を設定することができます。
以下のような処理を例に説明します。

```
const hello = name => console.log(`こんにちは、${name}さん`);

hello("サンプル太郎");

//出力結果
こんにちは、サンプル太郎さん
```

この場合は出力結果は上記のようになります。では以下の場合はどうでしょう。

```
const hello = name => console.log(`こんにちは、${name}さん`);

hello();

//出力結果
こんにちは、undefinedさん
```

上記では引数の name を hello 関数が受け取れずに値が存在しないことを意味する undefined が name として出力されてしまっています。そこで以下のようにデフォルト値を使って値が渡されなかった場合にデフォルトで設定される値を追加することができます。

```
const hello = (name = "ゲスト") => console.log(`こんにちは、${name}さん`);

hello();

//出力結果
こんにちは、ゲストさん
```

こちらはあくまでデフォルト値のため引数が渡っている場合は渡されたものが優先的に使用されます。

## スプレット構文

スプレット構文は配列やオブジェクトに対して使える記法で様々な用途があります。

### 要素の展開

```
const arr = [1, 2];

const add = (a, b) => console.log(a + b);

add(arr[0], arr[1]);

//出力結果
3

add(...arr);

//出力結果
3
```

上記のようにスプレット構文は...という形式でドットを 3 つつなげて使用します。配列に対して使用することで内部の要素を順に展開してくれます。

### 要素をまとめる

配列の分割代入を例に説明します。

```
const arr = [1, 2, 3, 4, 5];

const [item1, item2, ...items] = arr;
```

上記の場合、item1 には 1 が、item2 には 2 が items には[3, 4, 5]が格納されています。

### 要素のコピーや結合

要素のコピーや結合について以下で具体例を紹介します。

```
const arr1 = [1, 2];
const arr2 = [3, 4];

//コピー
const arr3 = [...arr1];
console.log(arr3);

//出力結果
[1, 2]

//結合
const arr4 = [...arr1, ...arr2];
console.log(arr4);

//出力結果
[1, 2, 3, 4]
```

## forEach 関数

配列やオブジェクトを処理するために便利な forEach について説明します。

まずは従来の for 文を使った処理を以下に記載します。

```
const fruits = ["apple", "banana", "orange"];

for(let index = 0; index < fruits.length; index++) {
  console.log(fruits[index]);
}
```

上記のように記述量が多く見にくい処理になってしまします。

そこで forEach を用いると同じ処理を以下のように記述できます。

```
const fruits = ["apple", "banana", "orange"];

fruits.forEach((fruit) => {
  console.log(fruit)
});
```

for 文よりもシンプルに記述できることがわかると思います。

## map 関数

もう一つ配列やオブジェクトを処理するために便利な map について説明します。map は与えられた関数を配列のすべての要素に対して呼び出し、その結果からなる新しい配列を生成するという用途で使われるのが一般的です。

例としてある数値からなる配列のすべての要素を 2 倍にして出力したい場合を考えます。

まずは従来の for 文を使った処理を以下に記載します。

```
const numbers = [1, 2, 3];

for(let index = 0; index < numbers.length; index++) {
  numbers[index] *= 2;
  }

  console.log(numbers);
```

上記のように記述量が多く見にくい処理になってしまします。

そこで map を用いると同じ処理を以下のように記述できます。

```
const numbers = [1, 2, 3];

console.log(numbers.map((number) => number * 2));
```

for 文よりもシンプルに記述できることがわかると思います。
