---
title: 'Next.jsについて'
date: '2022-11-11'
thumbnail: '/images/next.jpeg'
---

## Next.js とは

Next.js とは、React での開発におけるフレームワークです。
React ではブラウザ側でレンダリングを行う SPA の開発が特徴です。SPA ではブラウザへ空の html を返し、実際のページのコンテンツは JavaScript を使って生成します。一度ページを読み込んでしまえば、ページ遷移のたびにサーバへのリクエストが発生することがないためページを高速で表示さることができます。
一方で、JavaScript のサイズが大きくなればなるほど、初回表示時の読み込みに時間がかかる問題があります。

そこで Next.js を使うことで Pre-rendering（サーバー側で各ページに対して html を予め作っておくこと）が可能です。
Next.js ではサーバ側でレンダリングを行うための以下の３つの仕組みをサポートしています。

### SSR（Server Side Rendering）について

SSR ではリクエストごとに、サーバ側で HTML ファイルを生成し、クライアントへ返します。

#### メリット

- リクエストのたびに HTML を生成するので常に最新状態のページを維持できる

#### デメリット

- リクエストのたびにサーバ側でレンダリングを行うため、レスポンスに時間がかかる

### SSG（Static Site Generation）について

SSG はクライアントからのリクエストごとではなく、html がビルド時に生成され、各リクエストに再利用されます。
SSG は 2020 年 3 月にリリースされたバージョン 9.3 から導入されました。

#### メリット

- ビルド時に静的な html を生成しているためロードが非常に高速である

#### デメリット

- ビルド時 1 回だけデータフェッチして、ビルドされた後にデータを変更することができない
  - 頻繁に更新が行われる Web サイトには不向き

### ISR（Incremental Static Regeneration）について

ISR ではブラウザからのリクエストに対して事前にレンダリングされた html（古い情報）を返しつつ、バックグラウンドでリクエストに対するレンダリングを行います。SSG に SSR を統合したようなイメージです。ISR は 2020 年 7 月にリリースされたバージョン 9.5 から導入されました。

#### メリット

- リクエストの際には新しくレンダリングされた html を返すことができる

#### デメリット

- 現段階では Vercel 依存であるため、脱 Vercel となった場合に困る<br/>
  ＊Vercel→Next.js で作成したプロジェクトを簡単にデプロイできるサービス
